---
title: "Tcl 01"
excerpt: "Introduction to the Tcl Language"
date: 2023-04-25 22:00:00 +0900
classes: wide
header:
  overlay_image: /assets/images/unsplash-emile-perron.jpg
  overlay_filter: 0.5
  caption: "Photo by [**Emile Perron**](https://unsplash.com/@emilep) on [**Unsplash**](https://unsplash.com/)"
categories:
  - Tcl
---

## Introduction

앞으로 사용할 커맨드 표기 방식은 다음과 같다.

- `command`: 커맨드
- `subcommand`: 서브 커맨드
- `-option`: 옵션
- `argument`: 커맨드 인자
- `?-option?`: 필수는 아닌 옵션
- `?argument?`: 필수는 아닌 인자

예: `puts ?-nonewline? ?channel? outputString`

### Syntax

Tcl은 position-based language이다. Tcl 커맨드 라인의 첫 단어는 반드시 Tcl 커맨드가 온다(built-in 커맨드, 프로시저 이름, 혹은 외부 커맨드). 그 후 옵션이나 서브 커맨드, 인자가 오고 줄바꿈이나 세미콜론이 오면 커맨드가 끝난다.  

- 커맨드라인의 첫 단어는 커맨드 이름이 온다.
- 각 단어는 하나 이상의 스페이스로 구분된다.
- ""나 {}로 단어들을 하나의 String으로 그룹화한다. ""의 경우 Substitution이 일어나며, []의 경우 Substitution이 일어나지 않으며 줄바꿈도 커맨드 종료로 동작하지 않는다.
- 리스트는 {*}로 그룹 해제할 수 있다.
- 커맨드는 줄바꿈이나 세미콜론으로 끝난다.
- 달러 표시($)로 시작하는 단어는 변수명이어야 한다. 이는 해당 변수로 대체된다.
- 변수명 뒤에 괄호 안에 (변수)가 오면 associative array이다. `arrayName(index)`
- []로 감싸진 단어들은 정규 Tcl 커맨드여야한다. 이는 해당 커맨드를 evaluation한 결과로 대체된다.
- `\`는 하나의 문자를 Escaping하여 해당 문자를 특수한 문자로 사용하지 않게 한다. 
- `#`는 라인의 나머지 부분을 주석처리한다. 이는 커맨드가 올 수 있는 자리에 사용해야 한다(첫 글자 혹은 세미콜론 다음 첫 글자)

```tcl
set x 3;

# 정상 동작 코드
if { $x > 2 } {
    set greater true;
}

# invalid command name "if{" 에러 발생
if{ $x > 2} {
    set greater true;
}

# extra characters after close-brace 에러 발생
if {$x > 2}{
    set greater true;
}

set x "a b"
puts $x
#a b

set x {a b}
puts $x
#a b

set x a b
# Error

# Comment O
puts "text"; # Command O

puts "text" # Error
```

